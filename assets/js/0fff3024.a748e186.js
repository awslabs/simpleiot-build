"use strict";(self.webpackChunksimpleiot=self.webpackChunksimpleiot||[]).push([[7135],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=p(n),c=r,h=u["".concat(s,".").concat(c)]||u[c]||d[c]||i;return n?a.createElement(h,o(o({ref:t},m),{},{components:n})):a.createElement(h,o({ref:t},m))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9324:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={id:"team-member",title:"Joining the Team"},o=void 0,l={unversionedId:"workshops/starter/team-member",id:"workshops/starter/team-member",title:"Joining the Team",description:"Pre-requisites",source:"@site/docs/workshops/starter/team-member.md",sourceDirName:"workshops/starter",slug:"/workshops/starter/team-member",permalink:"/docs/workshops/starter/team-member",draft:!1,tags:[],version:"current",frontMatter:{id:"team-member",title:"Joining the Team"},sidebar:"theSidebar",previous:{title:"Administrators and Team Members",permalink:"/docs/workshops/starter/adminteam"},next:{title:"Hello World",permalink:"/docs/workshops/starter/hello-world"}},s={},p=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Installing the Toolchain",id:"installing-the-toolchain",level:2},{value:"The invitation",id:"the-invitation",level:2},{value:"Managing Teams and Environment Variables",id:"managing-teams-and-environment-variables",level:2},{value:"Logging in",id:"logging-in",level:2},{value:"Shared Environment",id:"shared-environment",level:2},{value:"Next Steps",id:"next-steps",level:2}],m={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,r.kt)("p",null,"So a few things must be done before you can continue: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Administrator should have installed the SimpleIOT back-end"),(0,r.kt)("li",{parentName:"ul"},"The Administrator should have sent you an invitation to join a Team, including a private key"),(0,r.kt)("li",{parentName:"ul"},"You should have followed all the instructions in the ",(0,r.kt)("a",{parentName:"li",href:"../../install/team-member"},"Team Member"),' section up until "Installing the Toolchain". This would include having Python installed, installing the correct drivers, and installing the SimpleIOT CLI. ')),(0,r.kt)("h2",{id:"installing-the-toolchain"},"Installing the Toolchain"),(0,r.kt)("p",null,"The system can be used to flash and build firmware for a Core2 device in the  AWS IoT Kit SimpleIOT Starter Bundle. First, you must install the ",(0,r.kt)("strong",{parentName:"p"},"Arduino CLI")," and the ESP-32 built toolchain, along with all the necessary libraries."),(0,r.kt)("p",null,"A single command does all this for you:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot toolchain install\n")),(0,r.kt)("p",null,"This command downloads and installs the ",(0,r.kt)("strong",{parentName:"p"},"arduino-cli")," command and then configures it. It installs all the necessary 3rd party components, including the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/awslabs/simpleiot-arduino"},"simpleiot-srduino")," library."),(0,r.kt)("p",null,"If you get any errors, make sure you uninstall the toolchain, fix the problem, then try again:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot toolchain uninstall\n")),(0,r.kt)("p",null,"After the toolchain is installed, you can verify that everything is set up correctly by connecting the Core2 device via a USB-C cable. "),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/img/workshops/starter/Kit-USB-Plugin.png",width:"50%"})),(0,r.kt)("p",null,"On the Mac, you should have installed as part of the pre-requisites the Silicon Labs ",(0,r.kt)("a",{parentName:"p",href:"https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers"},"CP210x USB to UART Bridge drivers"),". You may be prompted to find the downloaded driver and install it on Windows."),(0,r.kt)("p",null,"To upload a pre-built binary firmware example, make sure the Core2 device is plugged in to your computer, then run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot firmware m5demo\n")),(0,r.kt)("p",null,"You may be prompted to choose the USB port depending on how many USB devices you have connected to your system. If there is only one Core2 device, that will be selected. The system will then flash the Core2 with the demo binary. "),(0,r.kt)("p",null,"If you see the following, your installation is complete:"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/img/install/simpleiot-success.gif",width:"40%"})),(0,r.kt)("h1",{id:"joining-a-team"},"Joining a Team"),(0,r.kt)("p",null,"You can access ",(0,r.kt)("strong",{parentName:"p"},"Projects"),", ",(0,r.kt)("strong",{parentName:"p"},"Models"),", and ",(0,r.kt)("strong",{parentName:"p"},"Devices")," in an existing ",(0,r.kt)("strong",{parentName:"p"},"Team")," once invited by the Administrator of that team. Once you receive the invitation and attached credentials, you have to accept the invitation and ",(0,r.kt)("inlineCode",{parentName:"p"},"join")," the team. This allows you to choose your own password for the account."),(0,r.kt)("p",null,"From an administrator's point of view, an invitation is a ",(0,r.kt)("strong",{parentName:"p"},"three-step")," process:"),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/img/install/team-invite-step.png",width:"70%"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The administrator generates an invitation with the invitee's unique username and email address. This generates a secure ",(0,r.kt)("em",{parentName:"p"},"invitation file")," and a ",(0,r.kt)("em",{parentName:"p"},"private key"),". The administrator then sends these to the recipient (via email, text, or any other messaging app)."),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/img/install/team-join-step.png",width:"70%"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The recipient (you) will use the ",(0,r.kt)("em",{parentName:"p"},"invitation file")," and the ",(0,r.kt)("em",{parentName:"p"},"key")," to accept and join the team. You will be prompted to enter a password of your own choosing for that account."),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/img/install/team-login-step.png",width:"50%"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You can now log in with your own username and password."))),(0,r.kt)("h2",{id:"the-invitation"},"The invitation"),(0,r.kt)("p",null,"You can join as many ",(0,r.kt)("strong",{parentName:"p"},"Teams")," as you want. However, each should have a unique name. "),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/img/intro/intro-diagram-04.png"})),(0,r.kt)("p",null,"The team administrator will invite you by sending you an email or message with an encrypted  ",(0,r.kt)("em",{parentName:"p"},"Invitation File")," (ending in ",(0,r.kt)("inlineCode",{parentName:"p"},".simpleiot"),") and a unique key (in the form of a string, like: ",(0,r.kt)("inlineCode",{parentName:"p"},"ZkJLQlJVR1p3VFZvY0lGMS1weUdpTF95UlhCd3BDLU00SjZFTkQ2S2JUaz0="),")."),(0,r.kt)("p",null,"To join the team, save the attached invitation file on your system, then use the SimpleIOT CLI and join as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot team join --invite={path-to-invite-file} --key='{key-string}' --password='your password'\n")),(0,r.kt)("p",null,"Your password should be difficult to guess and consist of lower and uppercase letters, numbers, and digits. We recommend having at least 8 characters."),(0,r.kt)("p",null,"If you do not enter the ",(0,r.kt)("inlineCode",{parentName:"p"},"--password")," parameter, you will be prompted to enter it. Once joined, your team name will be displayed."),(0,r.kt)("p",null,"Once accepted, you are ready to log in to SimpleIOT under the team."),(0,r.kt)("h2",{id:"managing-teams-and-environment-variables"},"Managing Teams and Environment Variables"),(0,r.kt)("p",null,"SimpleIOT CLI commands expect the name of the ",(0,r.kt)("strong",{parentName:"p"},"Team")," to be present on the command line with a ",(0,r.kt)("inlineCode",{parentName:"p"},"--team={team-name}")," parameter."),(0,r.kt)("p",null,"If you know you will only be dealing with a single ",(0,r.kt)("strong",{parentName:"p"},"Team"),", add the team name as an environment variable and skip having to add ",(0,r.kt)("inlineCode",{parentName:"p"},"--team")," to every command."),(0,r.kt)("p",null,"On Macs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'export IOT_TEAM="{team-name}"\n')),(0,r.kt)("p",null,"This will only take effect for the duration of your terminal session. To make it permanent, add the above line to your ",(0,r.kt)("inlineCode",{parentName:"p"},".bashrc")," or ",(0,r.kt)("inlineCode",{parentName:"p"},".zshrc")," file, then restart the terminal."),(0,r.kt)("p",null,"On Windows Powershell:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},'$env:IOT_TEAM="{team-name}"\n')),(0,r.kt)("p",null,"To make it permanent, use the following command in Powershell (all on one line):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"[System.Environment]::SetEnvironmentVariable('IOT_TEAM','{team-name}',[System.EnvironmentVariableTarget]::User)\n")),(0,r.kt)("p",null,"Close the Powershell window and restart it then to verify that it was accepted:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"dir env:\n")),(0,r.kt)("p",null,"Note the ",(0,r.kt)("inlineCode",{parentName:"p"},":")," colon at the end of the line. This will print out all the environment variables for the current user. Make sure ",(0,r.kt)("inlineCode",{parentName:"p"},"IOT_TEAM")," is present."),(0,r.kt)("h2",{id:"logging-in"},"Logging in"),(0,r.kt)("p",null,"To login into the system, you will use the ",(0,r.kt)("inlineCode",{parentName:"p"},"auth login")," command and provide your user credentials:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot auth login --username=admin --password='{password}}' --team='{team-name}'\n")),(0,r.kt)("p",null,"If you have specified the ",(0,r.kt)("inlineCode",{parentName:"p"},"IOT_TEAM")," environment variable, you can skip the ",(0,r.kt)("inlineCode",{parentName:"p"},"--team")," part. "),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"For all subsequent commands, we will assume the environment variable has been set and omit the ",(0,r.kt)("inlineCode",{parentName:"p"},"--team")," parameter from the listed examples.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot auth login --username=admin --password='{password}}'\n")),(0,r.kt)("p",null,"If you omit the ",(0,r.kt)("inlineCode",{parentName:"p"},"--username")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"--password")," parameters, you will be prompted to enter them."),(0,r.kt)("p",null,"These will be saved to your system inside the secure keychain. After the first time, you can log in to the system by entering:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot auth login\n")),(0,r.kt)("p",null,"To clear the cached credentials from the keychain, you can logout:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot logout\n")),(0,r.kt)("p",null,"To permanently erase the credentials from the keychain: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"iot logout --clear\n")),(0,r.kt)("p",null,"For security reasons, login tokens are valid for only an hour. If you try to execute any command and the login has expired, you will receive an error message. Instead, invoke ",(0,r.kt)("inlineCode",{parentName:"p"},"iot auth login")," to refresh the token using your cached login credentials for that team, then continue."),(0,r.kt)("h2",{id:"shared-environment"},"Shared Environment"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"The SimpleIOT back-end is an open, shared environment designed for development and collaboration. This means all registered users can access all projects, models, and provisioned devices."),(0,r.kt)("p",{parentName:"admonition"},"It is recommended that each person create a project prefixed with a unique name or initials to prevent accidentally accessing someone else's work.")),(0,r.kt)("h2",{id:"next-steps"},"Next Steps"),(0,r.kt)("p",null,"Congratulations! "),(0,r.kt)("p",null,"Now that you are logged in, you can proceed to create an example connected device example. ",(0,r.kt)("a",{parentName:"p",href:"/docs/workshops/intro"},"The ",(0,r.kt)("em",{parentName:"a"},"Starter Workshop"))," will show you how to use the ",(0,r.kt)("a",{href:"https://shop.m5stack.com/collections/m5-controllers/products/aws-iot-edukit-simpleiot-starter-bundle-v1-0",target:"_blank"},(0,r.kt)("em",{parentName:"p"},"Core2 for AWS IoT Kit SimpleIOT Starter Bundle V1.0")),"."))}d.isMDXComponent=!0}}]);