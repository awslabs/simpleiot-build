<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-documentation/sdk/arduino/intro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Introduction | SimpleIOT</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://simpleiot.net/docs/documentation/sdk/arduino/intro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction | SimpleIOT"><meta data-rh="true" name="description" content="The basic concepts behind the SimpleIOT platform are defined in the introduction."><meta data-rh="true" property="og:description" content="The basic concepts behind the SimpleIOT platform are defined in the introduction."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://simpleiot.net/docs/documentation/sdk/arduino/intro"><link data-rh="true" rel="alternate" href="https://simpleiot.net/docs/documentation/sdk/arduino/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://simpleiot.net/docs/documentation/sdk/arduino/intro" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2565bf47.css">
<link rel="preload" href="/assets/js/runtime~main.ce24b4e5.js" as="script">
<link rel="preload" href="/assets/js/main.a89a2cd9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#18191B;color:#9969F7" role="banner"><div class="announcementBarContent_xLdY">Welcome Starter Bundle users! <a href="/docs/workshops/intro">Click here</a> to go to the Workshop.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="SimpleIOT logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="SimpleIOT logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SimpleIOT</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Get Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/documentation/intro">Documentation</a><a class="navbar__item navbar__link" href="/docs/workshops">Workshops</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/team">Team</a><a class="navbar__item navbar__link" href="/docs/github">Github</a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/concepts">Basic Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/install/intro">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/workshops/intro">Workshops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/documentation/intro">Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/documentation/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/documentation/cli/intro">CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/documentation/sdk/intro">Client SDKs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/documentation/sdk/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/documentation/sdk/arduino/intro">Arduino</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/documentation/sdk/arduino/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/documentation/sdk/arduino/classref">Class Reference</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/documentation/data/intro">Data</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/legal">Legal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/roadmap">Roadmap</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Documentation</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Client SDKs</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Arduino</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Basic Concepts</h1><p>The basic concepts behind the SimpleIOT platform are defined in the <a href="/docs/intro">introduction</a>.</p><p>Under the Arduino system, the configuration will look like this:</p><div align="center"><img loading="lazy" src="/img/arduino/arduino-app.png" width="60%" class="img_ev3q"></div><br><p>The Sketch will include SimpleIOT as an additional library and provide certain items (detailed below) to configure and provision the device. Once compiled and flashed, the sketch will securely connect to AWS IOT and allow send/receive of data to the cloud.</p><p>The type of information that can be exchanged is totally up to you. You can define key/values in the description of the <a href="/docs/documentation/cli/model">Model</a> and send data to the cloud via a call like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  iot-&gt;set(&quot;temperature&quot;, 78.9);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Installation</h1><p>Installing SimpleIOT SDK can either be done using the <a href="https://www.arduino.cc/en/software" target="_blank" rel="noopener noreferrer">Arduino Classic App</a>, the <a href="https://www.arduino.cc/en/software" target="_blank" rel="noopener noreferrer">Arduino IDE 2.0</a> or the <a href="https://www.arduino.cc/pro/cli" target="_blank" rel="noopener noreferrer">Arduino Command-Line-Interface</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="arduino-classic">Arduino Classic<a class="hash-link" href="#arduino-classic" title="Direct link to heading">​</a></h2><p>Go into the Library Manager, search for <code>simpleiot</code>, and install it from there: </p><div align="center"><img loading="lazy" src="/img/arduino/manage-library-app.png" width="90%" class="img_ev3q"></div><br><div align="center"><img loading="lazy" src="/img/arduino/manage-library-app-install.png" width="80%" class="img_ev3q"></div><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="arduino-ide-20">Arduino IDE 2.0<a class="hash-link" href="#arduino-ide-20" title="Direct link to heading">​</a></h2><p>Click on the Library Manager Icon, search for &#x27;simpleiot&#x27;, and click on Install:</p><div align="center"><img loading="lazy" src="/img/arduino/manage-library-ide.png" width="80%" class="img_ev3q"></div><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="arduino-cli">Arduino CLI<a class="hash-link" href="#arduino-cli" title="Direct link to heading">​</a></h2><p>If using the Command Line Interface, you can use this command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt; arduino-cli lib install simpleiot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you prefer to install the latest version of the SDK from the <a href="https://github.com/awslabs/simpleiot-arduino" target="_blank" rel="noopener noreferrer">Github repository</a>, you can use:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt; arduino-cli lib install --git-url https://github.com/awslabs/simpleiot-arduino.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="board-manager">Board Manager<a class="hash-link" href="#board-manager" title="Direct link to heading">​</a></h2><p>The code has been tested with ESP32-based devices. To add support for these, you may need to add them to your development tool manually. Instructions from Espressif <a href="https://docs.espressif.com/projects/arduino-esp32/en/latest/installing.html" target="_blank" rel="noopener noreferrer">are provided here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies">Dependencies<a class="hash-link" href="#dependencies" title="Direct link to heading">​</a></h2><p>The SimpleIOT SDK and its examples and demos rely on the following SDKs. The IDEs and CLIs should automatically install these. The CLI will install these if it is installed via the <code>iot toolchain install</code> command.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli config set board_manager.additional_urls https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli config set library.enable_unsafe_install true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli core update-index</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli core install esp32:esp32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install ArduinoJson</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install ArduinoMqttClient</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install FastLED</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install TinyGPSPlus-ESP32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install --git-url https://github.com/m5stack/M5Core2.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install --git-url https://github.com/m5stack/UNIT_ENV.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install --git-url https://github.com/m5stack/UNIT_ENCODER.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install --git-url https://github.com/aws-samples/arduino-aws-greengrass-iot.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arduino-cli lib install --git-url https://github.com/awslabs/simpleiot-arduino.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h2><p>Once installed, you can create a <em>HelloWorld</em> and a <em>SensorDemo</em> project from the IDE&#x27;s SimpleIOT <code>Examples</code> menu. These examples are designed to work with the <a href="https://shop.m5stack.com/products/m5stack-core2-esp32-iot-development-kit" target="_blank" rel="noopener noreferrer">M5Stack Core2 ESP32</a> or <a href="https://aws.amazon.com/iot/edukit/" target="_blank" rel="noopener noreferrer">AWS IOT EduKit</a> devices.</p><p>Alternately, you can purchase the <a href="https://m5stack.com" target="_blank" rel="noopener noreferrer">SimpleIOT Starter Kit</a>, which contains all the devices and sensors to build the sensor demo example.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="device-provisioning">Device Provisioning<a class="hash-link" href="#device-provisioning" title="Direct link to heading">​</a></h2><p>Each <strong>Device</strong> in the SimpleIOT universe must be registered in the system. This is done by using the <a href="/docs/documentation/cli/device#iot-device-add">iot device add</a> command in the SimpleIOT CLI and providing a unique serial number, as well as the associated Model, Project, and Team values. For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt; iot device add --team=&quot;{team-name} --project=&quot;{my-project}&quot; --model=&quot;{my-model}&quot; --serial=&quot;unique-serial&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Behind the scenes, this command creates and provisions the certificates, policies, and roles needed by AWS IOT and downloads the certificates to the local development machine. </p><p>The command then outputs two critical pieces of information:</p><ol><li>The directory where the certificate files are stored on the local machine.</li><li>The IOT endpoint URL for this back-end.</li></ol><p>This information will be needed in the next section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-the-cloud">Connecting to the cloud<a class="hash-link" href="#connecting-to-the-cloud" title="Direct link to heading">​</a></h2><p>You will need the following information to connect your firmware to the cloud. It may seem daunting, but once you&#x27;ve provisioned a device (above), you already have all the necessary information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iot-endpoint">IOT Endpoint<a class="hash-link" href="#iot-endpoint" title="Direct link to heading">​</a></h3><p>When you create a back-end instance of SimpleIOT, the IOT subsystem sets up a URL where connections specific to the installation can be made. This URL is generated during installation and is saved in the <code>~/.simpleiot/{team-name}/config.json</code> file under the <code>iot_endpoint</code> key. </p><p>All client device firmware will need to pass this URL to the SDK to be able to connect to the proper IOT endpoint.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-certificates">Security Certificates<a class="hash-link" href="#security-certificates" title="Direct link to heading">​</a></h3><p>AWS IOT supports two types of security:</p><ol><li>Secure Enclave chip</li><li>Embedded Certificates</li></ol><p>The former assumes the hardware has a supported embedded security chip on board, properly connected so the firmware can communicate with it directly.</p><p>However, there are many devices and designs that do not have the hardware. The certificates can be embedded inside the firmware and presented as needed. SimpleIOT SDK aims to work with a wide range of products and assumes the target device does not have an additional security chip. </p><p>However, if designing your hardware from scratch, you may want to consider including an embedded security chip made by vendors like <a href="https://www.microchip.com/en-us/products/security/security-ics/cryptoauthentication-family/use-case-archives/aws-iot-atecc608a" target="_blank" rel="noopener noreferrer">Microchip</a>, <a href="https://www.infineon.com/cms/en/about-infineon/press/market-news/2019/INFDSS201905-070.html" target="_blank" rel="noopener noreferrer">Infineon</a>, or <a href="https://newsroom.st.com/media-center/press-item.html/t4445.html" target="_blank" rel="noopener noreferrer">ST</a>.</p><p>AWS IOT uses <a href="https://docs.aws.amazon.com/iot/latest/developerguide/x509-client-certs.html" target="_blank" rel="noopener noreferrer">X.509 private/public key certificates</a> to authenticate devices. This means that only devices registered to connect to AWS are allowed to send data to the cloud. In addition, all data coming and going to the device will be end-to-end encrypted via <a href="https://docs.aws.amazon.com/iot/latest/developerguide/transport-security.html" target="_blank" rel="noopener noreferrer">TLS 1.2</a>.</p><p>Three separate files are generated each time a single device is registered for the authentication system to work. These are:</p><ul><li>Root Certificate of Authority</li><li>Device Certificate</li><li>Device Private Key</li></ul><p>If a device is created using the <code>iot device add</code> command, all registration is automatically performed, and the certificates are downloaded into the following local directory path:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">~/.simpleiot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   {team-name}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      projects</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {project-naem}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           models</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             {model-name}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">               devices</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                 {device-serial-number}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">~/.simpleiot/{team}/projects/{project}/models/{model}/devices/{device-serial}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Inside this directory, there will be several files, each prefixed with the serial number of the device:</p><ul><li><code>{serial-number}_rootca.pem</code>: Root Certificate file.</li><li><code>{serial-number}_cert.pem</code>: Device Certificate file.</li><li><code>{serial-number}_private.pem</code>: Private key file.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Please make sure these files are kept secure. Any device with access to these files can connect to your AWS IOT instance and send and receive data.</p></div></div><p>These files are in a text <a href="https://knowledge.digicert.com/quovadis/ssl-certificates/ssl-general-topics/what-is-pem-format.html#:~:text=PEM%20or%20Privacy%20Enhanced%20Mail,very%20distinct%20headers%20and%20footers." target="_blank" rel="noopener noreferrer">PEM format</a>. They can be opened with a text editor and copy/pasted into the sketch source.</p><p>For example, the Root Certificate looks something like this (truncated):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIIDQTCCAingAwIBAgITBmyfz5m/jAo54vB4ikPmljZbyjANBgkqhkiG9w0BAQsF</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ADA5MQsaCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRkwFwYDVQQDExBBbWF6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">b24gUm9vdCBDQSAxMB4XDTE1MDUyNjAwMDAwMFoXDTM4MDExNzAwMDAwMFowOTEL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEZMBcGA1UEAxMQQW1hem9uIFJv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">b3QgQ0EgMTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALJ4gHHKeNXj</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ca9HgFB0fW7Y14h29Jlo91ghYPl0hAEvrAIthtOgQ3pOsqTQNroBvo3bSMgHFzZM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">U5PMCCjjmCXPI6T53iHTfIUJrU6adTrCC2qJeHZERxhlbI1Bjjt/msv0tadQ1wUs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">N+gDS63pYaACbvXy8MWy7Vu33PqUXHeeE6V/Uq2V8viTO96LXFvKWlJbYK8U90vv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">o/ufQJVtMVT8QtPHRh8jrdkPSHCa2XV4cdFyQzR1bldZwgJcJmApzyMZFo6IQ6XU</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">5MsI+yMRQ+hDKXJioaldXgjUkK642M4UwtBV8ob2xJN5d2ZhwLnoQdeXeGADbkpy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rqXRfboQnoZsG4q5WTP468SQvvP5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END CERTIFICATE-----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Device Certificate might look like this (truncated):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIIDWTCCAkGgAwIBAgIUa8AkrtBf1rxI77Be6vanfIaeZNkwDQYJKoZIhvcNAQEL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">BQAwTTFLMEkGA1UECwxCQW1hem9uIFdlYiBTZXJ2aWNlcyBPPUFtYXpvbi5jb20g</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW5jLiBMPVNlYXR0bGUgU1Q9V2FzaGluZ3RvbiBDPVVTMB4XDTIxMDkxNzAwMjUw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">M9oXDTQ5MTIzMTIzNTk1OVowHjEcMBoGA1UEAwwTQAdTIElvVCBDZXJ0aWZpY2F0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOg7PHKq0SnDF123L5Uj</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">54dBPgwQWoq8hoXEGygn+KBZ4O+5q+737wgFR/Olke2sbN1+Fn+o6YhDvA21jq04</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Oy2LCRPDoorhXDuCndOF4xih4ljGKC5R1fvWlzixyx6Cv/9LPlXx4YdpXQR4rzde</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">UL+kkUmakdxbzoeovba1SDTvFe1ontNYflJ+ZtpCY86eaYbfwVk8W9/8WBd0K6JM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1xghOMg3oYYONPjJ/ZJHXY/fwdOBgXsAY3E++m4pAilTx4bpXuNK4jSx9IyCcY6H</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+UJqFs5PesRk3AYLUHhm5qJpQfEG62NaZMkDDBGhBiZlwHriqJOWMyKJ0ru=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END CERTIFICATE-----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Private Certificate may look like this (truncated):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN RSA PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIIEogIBAAKCXQEA6Ds8cqrRKcMXXbcvlSPnh0E+DBBairyGhcQbKCf4oFng77mr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">7vfvCAVH86WR7axs3X4Wf6jpiEO8DbWOrThQr43uz5/CMJGz+P+5GgZvcdeMKVnC</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">w9Bflbx82jTItYcroiiBxZD1/qs3zb+M1yzyXyJkHqE7Lcn+G8M9kZxktxjnMwwL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pd/txDqmkyup/fQFER8Sw5rc9Rf33MOZhaWDPHkhHCW+1tnotEqs/ITOgVrcU9OX</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">y7JY4zQ7nfh2S4Pco0UXdMHgNsYS5tVcRxFkHULDYuDwSRTYJTqGeLoYHBptlbKw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">r/hxfuFnvFKrixCN2xrWqZQC2AhFtHR7Q5APAwIDAQABAoIBACe7wtrnqQPZMk1B</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">jV9I0Fc0RmHrkQrhNvIuCj65tB7uIjJX/SzhAIjKPjRyOTv+iqHD/ojBaWkmQNjF</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">c5jHCwNCr9CcvOWlbnuxQQKBgDmKrEZh7ss/F1xBx2cZbrBECc+f4aycTpy/ibxO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tGDB2LQRIF+1X0zP2MspS/Gihyk8IYl5TKk4rKY5cOgGgQX1t7F2DTfsOI3v9a4S</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">JQz/dqQT4eRaI1k/NK6eXp/XFNjA11rquABl0btrV4XSWElywXudkPBPsXI5TXh+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">s98hAoGAbkEeEcy0rf0Zn2Z8Bsq23trIBdYvpxK9X8a6dQVgnECLOQVz4AzGFPGb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">f5icLV+lkFSQ18piTbXR5LZQCei1vUrl56174awDp5pdHIWTLhRf2WwuxMudleaA</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">YL/tpz7br/7RTQFZXOO2sQITRv3/Y6PR7QTtQpUE2j1e7gvQAS8=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END RSA PRIVATE KEY-----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="simpleiot-settings">SimpleIOT Settings<a class="hash-link" href="#simpleiot-settings" title="Direct link to heading">​</a></h3><p>For each device provisioned, you will also need to provide the following names:</p><ul><li>Project</li><li>Model, and </li><li>Device (serial number)</li><li>Firmware version number in Semantic Version format. When in doubt, use <code>1.0.0</code>.</li></ul><p>You define these using the <a href="/docs/documentation/cli/intro">iot cli</a> by creating a <strong>Project</strong>, a <strong>Model</strong>, and a <strong>Device</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wifi-settings">Wifi Settings<a class="hash-link" href="#wifi-settings" title="Direct link to heading">​</a></h3><p>A connected device needs to be able to connect to the internet via local Wi-Fi or Cellular modems.</p><p>The subject of provisioning at runtime and establishing network credentials is beyond the scope of this tutorial. However, to get the firmware to connect, you need to connect to your local WiFi router using <em>WiFi SSID name</em> and <em>WIFI SSID password</em> credentials. These must be passed on to the initialization routine to establish a connection.</p><p>There are several other WiFi Provisioning schemes <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/provisioning/wifi_provisioning.html" target="_blank" rel="noopener noreferrer">covered here</a>. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="assembling-the-parts">Assembling the parts<a class="hash-link" href="#assembling-the-parts" title="Direct link to heading">​</a></h2><p>To summarize, you will need the following items:</p><ul><li>IOT Endpoint URL</li><li>Root Certificate of Authority</li><li>Device Certificate</li><li>Device Private Key</li><li>Project name</li><li>Model name</li><li>Device serial number</li><li>Firmware version</li><li>WiFi router SSID name</li><li>WiFi router SSID password</li></ul><div align="center"><img loading="lazy" src="/img/arduino/basic-layout.png" width="80%" class="img_ev3q"></div><br><p>In the example apps, the files are configured as follows:</p><table><thead><tr><th>Name</th><th>Value</th><th>Definition</th></tr></thead><tbody><tr><td>Arduino Sketch Name Directory</td><td>Sketch Name</td><td>The IDE and CLI both assume a sketch is inside a directory of the same name</td></tr><tr><td>Sketch file</td><td>.ino file</td><td>Source to the Sketch (in C++)</td></tr><tr><td>iot-secrets.h</td><td>.h include file</td><td>Contains the IOT endpoint and sources to certificates</td></tr><tr><td>wifi-settings.h</td><td>.h include file</td><td>Contains the WiFi SSID and password        \ </td></tr></tbody></table><p>The directory layout will typically look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {arduino-sketch-name-directory}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      +-- {arduino-sketch-name}.ino</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      +-- iot-secrets.h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      +-- wifi-settings.h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      +-- {miscellaneous files}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are provided template files for both the <code>iot-secrets.h</code> and <code>wifi-settings.h</code> files. You can copy/paste the values you&#x27;ve collected above into these files, then compile and flash the binary to the device.</p><p>When the device boots up, it executes the <code>setup()</code> function to set up any devices/connections, then repeatedly calls the <code>loop()</code> function. The loop function can obtain values from sensors, then send them to the cloud. </p><p>Under the SimpleIOT SDK, you may also provide a callback handler that is called when there is data transmitted from the cloud. </p><p>More on this later...</p><p>The <code>iot-secrets.h</code> template looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * © 2022 Amazon Web Services, Inc. or its affiliates. All Rights Reserved.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * These are AWS IOT credentials. This is for the SimpleIOT demo program.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Not for production use.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#ifndef __SIMPLEIOT_SECRETS__</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define __SIMPLEIOT_SECRETS__</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;pgmspace.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Not really a secret, but all project-dependent values can be defined here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define SIMPLEIOT_IOT_ENDPOINT &quot;{{ iot_endpoint }}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Root CA file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static const char SIMPLE_IOT_ROOT_CA[] PROGMEM = R&quot;EOF(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{ simpleiot_root_ca }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)EOF&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Device Certificate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static const char SIMPLE_IOT_DEVICE_CERT[] PROGMEM = R&quot;KEY(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{ simpleiot_device_cert }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)KEY&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Device Private Key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static const char SIMPLE_IOT_DEVICE_PRIVATE_KEY[] PROGMEM = R&quot;KEY(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{ simpleiot_device_private_key }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)KEY&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif /* __SIMPLEIOT_SECRETS__ */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can copy-paste the IOT endpoint, Root Certificate, Device Certificate, and Private key values in place of the elements marked in between the <code>{{</code> <code>}}</code> brackets.</p><p>For <code>wifi-settings.h</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * © 2022 Amazon Web Services, Inc. or its affiliates. All Rights Reserved.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Update these with your own WiFi credentials</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#ifndef __SIMPLEIOT_WIFI_SETTINGS__</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define __SIMPLEIOT_WIFI_SETTINGS__</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const char WIFI_SSID[]=&quot;{{ wifi_ssid }}&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const char WIFI_PASSWORD[]=&quot;{{ wifi_password }}&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif /* __SIMPLEIOT_WIFI_SETTINGS__ */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can insert your own Wifi SSID and Password in place of the fields surrounded by <code>{{</code> and <code>}}</code> brackets.</p><p>Inside your Arduino sketch file, you can now include and set the following values near the top of the file, where global settings are placed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;iot-secrets.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;wifi-settings.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;SimpleIOT.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define IOT_PROJECT &quot;{my-project}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define IOT_MODEL   &quot;{my-model}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define IOT_SERIAL  &quot;{my-device-serial}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define IOT_FW_VERSION &quot;{firmware-version}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see, the <code>#include</code> directives import the values from inside the <code>.h</code> files. By using <code>#define</code> C/C++ directives, you can make the code more readable and modular.</p><p>By now, you have used all the data items assembled above. Next, let us look at the part where we connect to the cloud and initialize SimpleIOT.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="initialization">Initialization<a class="hash-link" href="#initialization" title="Direct link to heading">​</a></h2><p>If you have set up your <code>.ino</code> sketch files like above, you can now create an instance of a SimpleIOT object and initialize it inside the <code>setup()</code> function. The SimpleIOT object should be a global singleton value so all functions can access it.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SimpleIOT* iot = NULL; // global instance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... // other initializations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  iot = SimpleIOT::create(WIFI_SSID, WIFI_PASSWORD, SIMPLEIOT_IOT_ENDPOINT, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          SIMPLE_IOT_ROOT_CA, SIMPLE_IOT_DEVICE_CERT, SIMPLE_IOT_DEVICE_PRIVATE_KEY);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  iot-&gt;config(IOT_PROJECT, IOT_MODEL, IOT_SERIAL, IOT_FW_VERSION, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              onConnectionReady, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              onDataFromCloud);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Serial.println(&quot;SimpleIOT configuration initialized&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above section, the <code>SimpleIOT::create</code> function creates a singleton instance of the SimpleIOT object. You pass to it the <code>#define</code> values defined inside the <code>.h</code> files:</p><ul><li>Wifi SSID</li><li>Wifi Password</li><li>IOT Endpoint URL</li><li>Text of Root Certificate</li><li>Text of Device Certificate</li><li>Text of Device Private Key</li></ul><p>The next call, <code>iot-&gt;config</code>, starts the configuration of the SimpleIOT subsystem to work with this specific project/model/device.</p><p>The process is asynchronous since WiFi connection and establishing credentials may take a few seconds. The SDK provides a way for you to get notified when the configuration has been completed.</p><p>Notice the two extra parameters <code>onConnectionReady</code> and <code>onDataFromCloud</code>? When an event occurs, these callback handlers are called. <code>onConnectionReady</code> is called once the
secure connection to the cloud has been established. You can use this as a signal that the connection is open and data can be sent/received from the cloud.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>You should not attempt any cloud interactions until the <code>onConnectionReady</code> callback has been invoked with a successful status. </p><p>Any other status indicates a problem. For example, an invalid Wifi configuration or wrong security credentials. In these cases, the firmware should signal a problem to the user (if possible) and stop all connection/networking operations.</p></div></div><p>The <code>onDataFromCloud</code> callback is invoked if data is received from the cloud. These could be sent via API calls or the SimpleIOT CLI <code>iot data set</code> command.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="onconnectionready">onConnectionReady<a class="hash-link" href="#onconnectionready" title="Direct link to heading">​</a></h3><p>The <code>onConnectionReady</code> function expects the following parameters:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  void onConnectionReady(int status, String message) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>status</code> value will be <code>0</code> if everything works, otherwise, it will return a code and an optional string <code>message.</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ondatafromcloud">onDataFromCloud<a class="hash-link" href="#ondatafromcloud" title="Direct link to heading">​</a></h3><p>When data is sent from the cloud, the SDK will receive the notification and a payload. Then, the SDK extracts the relevant information to the application and passes it on to this callback.</p><p>The format of the handler is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void onDataFromCloud(SimpleIOT *iot, String name, String value, SimpleIOTType type) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Notice that the <code>value</code> is assumed to be String. Behind the scenes, SimpleIOT coerces all data values into a common string format for easier debugging and storage. When defining a Datatype, you can indicate the actual value. That type is passed on to the callback handler so you can decide how to convert the value best.</p><p>The <code>type</code> value can be one of:</p><ul><li>IOT_INT</li><li>IOT_FLOAT</li><li>IOT_DOUBLE</li><li>IOT_STRING</li><li>IOT_BOOLEAN</li></ul><p>What the <code>name</code> and <code>value</code> return is entirely up to you. But it is assumed to be defined as <strong>DataType</strong> fields in a <strong>Model</strong>.</p><p>For example, in the terminal, you can remotely set the value:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt; iot data set --project=HelloProject --serial=HW5-0001 --name=color --value=red</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The device with serial number <code>HW5-0001</code> will receive a live notification with the following settings:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">void onDataFromCloud(SimpleIOT *iot, String name, String value, SimpleIOTType type)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (name.equalsIgnoreCase(&quot;color&quot;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (value.equalsIgnoreCase(&quot;red&quot;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      setCurrentColor(PLANET_RED);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (value.equalsIgnoreCase(&quot;green&quot;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      setCurrentColor(PLANET_GREEN);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (value.equalsIgnoreCase(&quot;blue&quot;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      setCurrentColor(PLANET_BLUE);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (value.equalsIgnoreCase(&quot;off&quot;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        setCurrentColor(PLANET_ORIGINAL);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    updateDisplay(currentButton);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Both items are wrapped in Arduino <a href="https://www.arduino.cc/reference/en/language/variables/data-types/stringobject/" target="_blank" rel="noopener noreferrer">String</a> objects for easier conversion and processing.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Behind the scenes, certain callbacks will be reserved for future internal SDK use. The ones with data values will be passed to the <code>onDataFromCloud</code> function so the application can process them as needed.</p></div></div><h1>Examples</h1><p>You can use the <em>Examples</em> provided by SimpleIOT SDK in the Arduino IDEs and create a basic <em>HelloWorld</em> and <em>SensorDemo</em> example.</p><p>But the easiest way to see the SDK with completed parameters is to use the CLI code generator and create a fully-functional sketch. To do this, please visit the <a href="/docs/workshops">Workshops</a> section.</p><p>The versions of <em>HelloWorld</em> and <em>SensorDemo</em> generated there will come with filled-out certificates, WiFi settings, and project attributes.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/documentation/sdk/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/documentation/sdk/arduino/classref"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Class Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#arduino-classic" class="table-of-contents__link toc-highlight">Arduino Classic</a></li><li><a href="#arduino-ide-20" class="table-of-contents__link toc-highlight">Arduino IDE 2.0</a></li><li><a href="#arduino-cli" class="table-of-contents__link toc-highlight">Arduino CLI</a></li><li><a href="#board-manager" class="table-of-contents__link toc-highlight">Board Manager</a></li><li><a href="#dependencies" class="table-of-contents__link toc-highlight">Dependencies</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li><li><a href="#device-provisioning" class="table-of-contents__link toc-highlight">Device Provisioning</a></li><li><a href="#connecting-to-the-cloud" class="table-of-contents__link toc-highlight">Connecting to the cloud</a><ul><li><a href="#iot-endpoint" class="table-of-contents__link toc-highlight">IOT Endpoint</a></li><li><a href="#security-certificates" class="table-of-contents__link toc-highlight">Security Certificates</a></li><li><a href="#simpleiot-settings" class="table-of-contents__link toc-highlight">SimpleIOT Settings</a></li><li><a href="#wifi-settings" class="table-of-contents__link toc-highlight">Wifi Settings</a></li></ul></li><li><a href="#assembling-the-parts" class="table-of-contents__link toc-highlight">Assembling the parts</a></li><li><a href="#initialization" class="table-of-contents__link toc-highlight">Initialization</a><ul><li><a href="#onconnectionready" class="table-of-contents__link toc-highlight">onConnectionReady</a></li><li><a href="#ondatafromcloud" class="table-of-contents__link toc-highlight">onDataFromCloud</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Welcome</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/workshops/intro">Workshops</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/awslabs/simpleiot-build" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website Source<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Amazon Web Services, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ce24b4e5.js"></script>
<script src="/assets/js/main.a89a2cd9.js"></script>
</body>
</html>