"use strict";(self.webpackChunksimpleiot=self.webpackChunksimpleiot||[]).push([[3375],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var m=n.createContext({}),d=function(e){var t=n.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(m.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,m=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),s=d(a),c=r,k=s["".concat(m,".").concat(c)]||s[c]||u[c]||l;return a?n.createElement(k,i(i({ref:t},p),{},{components:a})):n.createElement(k,i({ref:t},p))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=s;var o={};for(var m in t)hasOwnProperty.call(t,m)&&(o[m]=t[m]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}s.displayName="MDXCreateElement"},2909:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const l={id:"data",title:"Data"},i=void 0,o={unversionedId:"documentation/cli/data",id:"documentation/cli/data",title:"Data",description:"Data records are created the first time a value is received either via a set command, an API POST command, or an MQTT message received from a device.",source:"@site/docs/documentation/cli/data.md",sourceDirName:"documentation/cli",slug:"/documentation/cli/data",permalink:"/docs/documentation/cli/data",draft:!1,tags:[],version:"current",frontMatter:{id:"data",title:"Data"},sidebar:"theSidebar",previous:{title:"Cloud",permalink:"/docs/documentation/cli/cloud"},next:{title:"DataType",permalink:"/docs/documentation/cli/datatype"}},m={},d=[{value:"iot data set",id:"iot-data-set",level:2},{value:"Parameters",id:"parameters",level:3},{value:"iot data get",id:"iot-data-get",level:2},{value:"Parameters",id:"parameters-1",level:3}],p={toc:d};function u(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'iot data set \n    --project=project-name \n    --serial=unique-serial-number\n    [--team="team-name"] \n    [--desc="description"] \n    [--name=datatype-name]\n    [--value=data-value]\n    [--data=data-series]\n    [--position=data-position-lat-long-alt]\n\niot data get \n    [--team="team-name"] \n    --project=project-name \n    --serial=unique-serial-number\n    [--name=datatype-name]\n    [--full]\n')),(0,r.kt)("br",null),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Data")," records are created the first time a value is received either via a ",(0,r.kt)("em",{parentName:"p"},"set")," command, an API ",(0,r.kt)("em",{parentName:"p"},"POST")," command, or an MQTT message received from a device."),(0,r.kt)("p",null,"A ",(0,r.kt)("em",{parentName:"p"},"Data")," value is an instance of a ",(0,r.kt)("em",{parentName:"p"},"DataType")," but attached to each ",(0,r.kt)("em",{parentName:"p"},"Device")," instance. Whereas ",(0,r.kt)("em",{parentName:"p"},"DataTypes")," define what values\na ",(0,r.kt)("em",{parentName:"p"},"Model")," can take, each ",(0,r.kt)("em",{parentName:"p"},"Device")," is an instance of a ",(0,r.kt)("em",{parentName:"p"},"Model"),", so each ",(0,r.kt)("em",{parentName:"p"},"Data")," is an instance of a ",(0,r.kt)("em",{parentName:"p"},"DataType"),", attached to\nthe individual ",(0,r.kt)("em",{parentName:"p"},"Device"),"."),(0,r.kt)("p",null,"The last received value is saved in the database. Ongoing data changes are also sent to an Amazon DynamoDB database for individual record logging and an Amazon Timestream database for time-based logging. If needed, they can also be routed to an S3 bucket or any other processing service."),(0,r.kt)("h2",{id:"iot-data-set"},"iot data set"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'iot data set \n    --project=project-name \n    --serial=unique-serial-number\n    [--team="team-name"] \n    [--desc="description"] \n    [--name=datatype-name]\n    [--value=data-value]\n    [--data=data-series]\n    [--position=data-position-lat-long-alt]\n')),(0,r.kt)("br",null),(0,r.kt)("p",null,"You can use this command to adjust a data value directly. Note that all ",(0,r.kt)("strong",{parentName:"p"},"Datatype")," settings are bi-directional so you can set/get them from either the device side or the cloud side."),(0,r.kt)("h3",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--project"),"  ","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0"),(0,r.kt)("td",{parentName:"tr",align:null},"Project Name"),(0,r.kt)("td",{parentName:"tr",align:null},"name of project. Alternately, define an environment variable ",(0,r.kt)("inlineCode",{parentName:"td"},"IOT_PROJECT")," with the project's name.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--serial")),(0,r.kt)("td",{parentName:"tr",align:null},"Serial Number"),(0,r.kt)("td",{parentName:"tr",align:null},"(Required) Unique serial number attached with the device. The serial number must be unique for all devices in a single Project.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--desc")),(0,r.kt)("td",{parentName:"tr",align:null},"Description"),(0,r.kt)("td",{parentName:"tr",align:null},"(Optional) description attached to data instance.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--name")),(0,r.kt)("td",{parentName:"tr",align:null},"DataType Name"),(0,r.kt)("td",{parentName:"tr",align:null},"name of data item to set.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--value")),(0,r.kt)("td",{parentName:"tr",align:null},"Value"),(0,r.kt)("td",{parentName:"tr",align:null},"value to set for name.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--data")),(0,r.kt)("td",{parentName:"tr",align:null},"Data string"),(0,r.kt)("td",{parentName:"tr",align:null},"Instead of a single ",(0,r.kt)("inlineCode",{parentName:"td"},"--name")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"--value")," setting, you can set multiple values at once using this command. The parameter is assumed to be a string of form: ",(0,r.kt)("inlineCode",{parentName:"td"},"name1=value1,name2=value2,etc.")," Any invalid names are ignored.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--position")),(0,r.kt)("td",{parentName:"tr",align:null},"Lat/Long/Alt"),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of latitude, longitude, and altitude values for this item.")))),(0,r.kt)("p",null,"To set a single data value, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"> iot data set --project=my-project-name --serial=serial-number --name=my-data --value=my-value\n")),(0,r.kt)("p",null,"To set multiple values in one transaction:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'> iot data set --project=my-project-name --serial=serial-number --data="temperature=20,pressure=50.2,count=3"\n')),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"A reminder that if ",(0,r.kt)("inlineCode",{parentName:"p"},"IOT_TEAM")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"IOT_PROJECT")," environment variables are set, you can skip the ",(0,r.kt)("inlineCode",{parentName:"p"},"--team")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"--project")," flags.")),(0,r.kt)("h2",{id:"iot-data-get"},"iot data get"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'iot data get \n    [--team="team-name"] \n    --project=project-name \n    --serial=unique-serial-number\n    [--name=datatype-name]\n    [--full]\n')),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This command returns the last known state of a value in the cloud database. An error may be returned if the value has not been set yet. The system currently uses data values stored in the RDS database. ")),(0,r.kt)("p",null,"Return the last known value for data received for a single device."),(0,r.kt)("h3",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--project")," ","\xa0","\xa0","\xa0","\xa0"),(0,r.kt)("td",{parentName:"tr",align:null},"Project Name"),(0,r.kt)("td",{parentName:"tr",align:null},"name of project. Alternately, define an environment variable ",(0,r.kt)("inlineCode",{parentName:"td"},"IOT_PROJECT")," with the project's name.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--serial")),(0,r.kt)("td",{parentName:"tr",align:null},"Serial Number"),(0,r.kt)("td",{parentName:"tr",align:null},"(Required) Unique serial number attached with the device. It must be unique within all devices of a given Project.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--name")),(0,r.kt)("td",{parentName:"tr",align:null},"DataType Name"),(0,r.kt)("td",{parentName:"tr",align:null},"name of data element.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--full")),(0,r.kt)("td",{parentName:"tr",align:null},"Flag"),(0,r.kt)("td",{parentName:"tr",align:null},"If specified, it will display full information on a single data item (including the timestamp).")))),(0,r.kt)("p",null,"To get a data value, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"> iot data get --project=my-project-name --serial=serial-number --name=my-data\n")),(0,r.kt)("br",null),"Or",(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"> iot data get --project=my-project-name --serial=serial-number --name=my-data --full\n")),(0,r.kt)("br",null),"to get a full listing.")}u.isMDXComponent=!0}}]);